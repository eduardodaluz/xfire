<project default="jar:install" xmlns:maven="jelly:maven">

  <goal name="jar:install"
        description="Generate jars">
    
    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="xfire-core/project.xml"
      excludes="*"
      goals="pom:install"
      banner="Installing XFire POMs"
      ignoreFailures="false"/>
    
    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="xfire-core/project.xml"
      excludes="*"
      goals="jar:install"
      banner="Installing XFire Core"
      ignoreFailures="false"/>
          
    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="xfire-java/project.xml"
      excludes="*"
      goals="pom:install"
      banner="Installing XFire POMs"
      ignoreFailures="false"/>
      
    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes="xfire-demo/project.xml,xfire-core/project.xml,xfire-xmpp/project.xml,xfire-annotations/project.xml"
      goals="jar:install"
      banner="Installing XFire"
      ignoreFailures="false"/>

  </goal>
  
  <goal name="jar:deploy-snapshots"
        description="Deploy snapshot jars.">

    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes="xfire-demo/project.xml"
      goals="jar:deploy-snapshot"
      banner="Deploying XFire Snapshots"
      ignoreFailures="false"/>

  </goal>
      
  <goal name="jar:deploy"
        description="Deploy jars">

    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes="xfire-demo/*,xfire-aegis,xfire-loom,xfire-spring,xfire-xmpp"
      goals="jar:deploy"
      banner="Deploying XFire"
      ignoreFailures="false"/>
    
  </goal>
    
  <goal name="dist:deploy"
        description="Deploy distributions for all XFire components">

    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes="xfire-demo/*,xfire-aegis,xfire-loom,xfire-spring,xfire-xmpp"
      goals="dist:deploy"
      banner="Deploying XFire Websites"
      ignoreFailures="true"/>
    
  </goal>
      
  <goal name="site:deploy"
        description="Generate the site for the entire project">

    <!-- Generate the site for each of the components. -->

    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes="xfire-demo/*"
      goals="site:deploy"
      banner="Deploying XFire Websites"
      ignoreFailures="true"/>
    
  </goal>
        
  <goal name="clean"
        description="Clean everything.">

    <maven:reactor
      basedir="${basedir}"
      postProcessing="true"
      includes="*/project.xml"
      excludes=""
      goals="clean"
      banner="Cleaning!"
      ignoreFailures="true"/>
    
  </goal>
</project>